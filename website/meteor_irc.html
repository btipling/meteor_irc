<head>
  <title>IRs tats for #meteor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
</head>

<body>
  <div class="container">
    <div class="row secretForm">
      {{> secretForm}}
    </div>
  </div>
  {{> dashboard}}
</body>

<template name="secretForm">
  {{#if isMissingSecret}}
    <form class="navbar-form pull-left">
      <label>Secret:
        <input type="text" class="secret-input"/>
      </label>
      <label>Channel:
        <input type="text" class="channel-input"/>
      </label>
      <label>Bot nick:
        <input type="text" class="nick-input"/>
      </label>
      <input type="submit" value="Submit secret"/>
    </form>
  {{/if}}
</template>

<template name="dashboard">
  <div class="container">
    <div class="row">
      <div class="span2">
        <div class="row">
          <div class="span2">
            <div class="channel-info">
              {{channelName}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span2">
            <div class="widget">
              <h4>Online</h4>
              {{{onlineCount}}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span2">
            <div class="widget">
              <h4>Messages today</h4>
              {{{messagesToday}}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span2">
            <div class="widget">
              <h4>Top active</h4>
              {{{topActive}}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span2">
            <div class="widget">
              <h4>Top URLs</h4>
              {{{topURLs}}}
            </div>
          </div>
        </div>
      </div>
      <div class="span5">
        <div class="row">
          <div class="span5">
            <div class="widget">
              <h4>Online</h4>
              {{{online}}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span5">
            <div class="widget">
              <h4>Messages per day</h4>
              {{{messagesPerDay}}}
            </div>
          </div>
        </div>
        <div class="row">
          <div class="span5">
            <div class="widget">
              <h4>Messages per hour</h4>
              {{{messagesPerHour}}}
            </div>
          </div>
        </div>
      </div>
      <div class="span4">
        <h4>Recent messages</h4>
        {{{recentMessages}}}
      </div>
    </div>
  </div>
</template>

<template name="list">
  <ul class="list">
    {{#each this}}
      <li class="widget">
        <span class="date">{{date}}</span>
        <span class="nick">{{nick}}</span>
        <span class="message">{{message}}</span>
      </li>
    {{/each}}
  </ul>
</template>

<template name="leaderboard">
  <ul class="leaderboard">
    {{#each this}}
      <li>
        <span class="count">{{count}}</span>
        {{#if isURL}}
        <a target="_blank" href="{{name}}" class="name">{{name}}</a>
        {{else}}
        <span class="name">{{name}}<span>
        {{/if}}
      </li>
    {{/each}}
  </ul>
</template>

<template name="number">
  <div class="number">
    {{this}}
  </div>
</template>

<template name="linechart">
  <div class="linechart-container">
    <svg data-id="{{id}}" class="linechart"></svg>
  </div>
</template>
